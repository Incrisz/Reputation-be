{
    "openapi": "3.0.0",
    "info": {
        "title": "Business Reputation & Visibility Audit API",
        "description": "A comprehensive API for auditing business online presence, SEO, social media, and Google Business Profile. Provides AI-powered recommendations via GPT-4.",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000",
            "description": "Local development server"
        },
        {
            "url": "http://localhost:8000/api",
            "description": "API base path"
        }
    ],
    "paths": {
        "/audits": {
            "get": {
                "tags": [
                    "Audits"
                ],
                "summary": "List all audits",
                "description": "Get paginated list of audits",
                "operationId": "listAudits",
                "parameters": [
                    {
                        "name": "business_id",
                        "in": "query",
                        "description": "Filter by business ID",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Items per page",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Audits retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/audits/{id}": {
            "get": {
                "tags": [
                    "Audits"
                ],
                "summary": "Get audit details",
                "description": "Retrieve a specific audit report with all findings",
                "operationId": "getAudit",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Audit ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Audit retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Audit not found"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Audits"
                ],
                "summary": "Delete audit",
                "description": "Remove an audit record",
                "operationId": "deleteAudit",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Audit ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Audit deleted",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Audit deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Audit not found"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/audits/trigger": {
            "post": {
                "tags": [
                    "Audits"
                ],
                "summary": "Trigger a new audit",
                "description": "Start a comprehensive audit for a business",
                "operationId": "triggerAudit",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "business_id"
                                ],
                                "properties": {
                                    "business_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Audit triggered",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Audit started successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Monthly audit quota exceeded"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/audits/compare": {
            "get": {
                "tags": [
                    "Audits"
                ],
                "summary": "Compare two audits",
                "description": "Compare metrics between two audit reports",
                "operationId": "compareAudits",
                "parameters": [
                    {
                        "name": "audit_1_id",
                        "in": "query",
                        "description": "First audit ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "audit_2_id",
                        "in": "query",
                        "description": "Second audit ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Comparison retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new user account",
                "description": "Create a new user account. Automatically assigns Free plan.",
                "operationId": "register",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+1234567890"
                                    },
                                    "company": {
                                        "type": "string",
                                        "example": "Acme Corp"
                                    },
                                    "industry": {
                                        "type": "string",
                                        "example": "Technology"
                                    },
                                    "location": {
                                        "type": "string",
                                        "example": "New York, USA"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User registered successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                },
                                                "token": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login user",
                "description": "Authenticate user with email and password. Returns authentication token.",
                "operationId": "login",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Login successful"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                },
                                                "token": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user",
                "description": "Invalidate the authentication token",
                "operationId": "logout",
                "responses": {
                    "200": {
                        "description": "Logout successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Logout successful"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get current user profile",
                "description": "Retrieve the authenticated user's profile information",
                "operationId": "getProfile",
                "responses": {
                    "200": {
                        "description": "User profile retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                },
                                                "phone": {
                                                    "type": "string"
                                                },
                                                "company": {
                                                    "type": "string"
                                                },
                                                "industry": {
                                                    "type": "string"
                                                },
                                                "location": {
                                                    "type": "string"
                                                },
                                                "status": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/businesses": {
            "get": {
                "tags": [
                    "Businesses"
                ],
                "summary": "List all businesses",
                "description": "Get paginated list of user's businesses",
                "operationId": "listBusinesses",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Items per page",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status (active/inactive)",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Businesses retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Businesses"
                ],
                "summary": "Create a new business",
                "description": "Add a new business to the user's portfolio",
                "operationId": "createBusiness",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "website_url",
                                    "business_name"
                                ],
                                "properties": {
                                    "website_url": {
                                        "type": "string",
                                        "format": "url",
                                        "example": "https://www.example.com"
                                    },
                                    "business_name": {
                                        "type": "string",
                                        "example": "Example Business"
                                    },
                                    "industry": {
                                        "type": "string",
                                        "example": "Technology"
                                    },
                                    "country": {
                                        "type": "string",
                                        "example": "USA"
                                    },
                                    "city": {
                                        "type": "string",
                                        "example": "New York"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Business description"
                                    },
                                    "keywords": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "logo_url": {
                                        "type": "string",
                                        "format": "url",
                                        "example": "https://example.com/logo.png"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Business created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Business created successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/businesses/{id}": {
            "get": {
                "tags": [
                    "Businesses"
                ],
                "summary": "Get business details",
                "description": "Retrieve detailed information about a specific business",
                "operationId": "getBusiness",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Business ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Business retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Business not found"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Businesses"
                ],
                "summary": "Update business",
                "description": "Update business information",
                "operationId": "updateBusiness",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "business_name": {
                                        "type": "string",
                                        "example": "Updated Business"
                                    },
                                    "industry": {
                                        "type": "string",
                                        "example": "Healthcare"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated description"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "inactive"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Business updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Business updated successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Business not found"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Businesses"
                ],
                "summary": "Delete business",
                "description": "Remove a business from the system",
                "operationId": "deleteBusiness",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Business deleted",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Business deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Business not found"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/subscription/plans": {
            "get": {
                "tags": [
                    "Subscriptions"
                ],
                "summary": "Get subscription plans",
                "description": "List all available subscription plans (public endpoint)",
                "operationId": "listSubscriptionPlans",
                "responses": {
                    "200": {
                        "description": "Plans retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/subscription/current": {
            "get": {
                "tags": [
                    "Subscriptions"
                ],
                "summary": "Get current subscription",
                "description": "Retrieve user's active subscription",
                "operationId": "getCurrentSubscription",
                "responses": {
                    "200": {
                        "description": "Subscription retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/subscription/upgrade": {
            "post": {
                "tags": [
                    "Subscriptions"
                ],
                "summary": "Upgrade subscription",
                "description": "Upgrade to a higher tier plan",
                "operationId": "upgradeSubscription",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "subscription_plan_id"
                                ],
                                "properties": {
                                    "subscription_plan_id": {
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "billing_cycle": {
                                        "type": "string",
                                        "enum": [
                                            "monthly",
                                            "annual"
                                        ],
                                        "example": "monthly"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Subscription upgraded",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Subscription updated successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/subscription/cancel": {
            "post": {
                "tags": [
                    "Subscriptions"
                ],
                "summary": "Cancel subscription",
                "description": "Cancel the active subscription",
                "operationId": "cancelSubscription",
                "responses": {
                    "200": {
                        "description": "Subscription cancelled",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Subscription canceled successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/subscription/usage": {
            "get": {
                "tags": [
                    "Subscriptions"
                ],
                "summary": "Get subscription usage",
                "description": "Get current usage statistics against plan limits",
                "operationId": "getSubscriptionUsage",
                "responses": {
                    "200": {
                        "description": "Usage retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "audits_used": {
                                                    "type": "integer"
                                                },
                                                "audits_limit": {
                                                    "type": "integer"
                                                },
                                                "audits_percent": {
                                                    "type": "integer"
                                                },
                                                "businesses_used": {
                                                    "type": "integer"
                                                },
                                                "businesses_limit": {
                                                    "type": "integer"
                                                },
                                                "businesses_percent": {
                                                    "type": "integer"
                                                },
                                                "period_start": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "period_end": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/api/audit/run": {
            "post": {
                "tags": [
                    "Audit"
                ],
                "summary": "Run comprehensive business visibility audit",
                "description": "Executes a complete audit including: Website SEO analysis, Social media detection, Google Business Profile check, OSAT-style technical probes (Lighthouse/HTTP Observatory/sitemap/internal/keywords), and AI-powered recommendations via OpenAI.",
                "operationId": "91357a67bd5ec58b9b70a5dd0ca10634",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "website_url",
                                    "business_name",
                                    "industry",
                                    "country",
                                    "city",
                                    "target_audience"
                                ],
                                "properties": {
                                    "website_url": {
                                        "description": "Full URL of the business website (required)",
                                        "type": "string",
                                        "format": "url",
                                        "example": "https://example.com"
                                    },
                                    "business_name": {
                                        "description": "Official business name (required)",
                                        "type": "string",
                                        "example": "Acme Digital Solutions"
                                    },
                                    "industry": {
                                        "description": "Business industry or category (required)",
                                        "type": "string",
                                        "example": "Digital Marketing"
                                    },
                                    "country": {
                                        "description": "Country where business operates - can be a string or array of countries (required)",
                                        "example": "United States",
                                        "oneOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        ]
                                    },
                                    "city": {
                                        "description": "City of operation - can be a string or array of cities (required)",
                                        "example": "San Francisco",
                                        "oneOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        ]
                                    },
                                    "target_audience": {
                                        "description": "Description of target customer base (required)",
                                        "type": "string",
                                        "example": "Small to medium-sized businesses looking to improve their digital presence"
                                    },
                                    "description": {
                                        "description": "Optional description/tell-us-about-your-business text used to validate search matches",
                                        "type": "string",
                                        "example": "We are a branding-first technology studio focused on Abuja startups.",
                                        "nullable": true
                                    },
                                    "competitors": {
                                        "description": "Optional list of competitor websites",
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "https://competitor1.com",
                                            "https://competitor2.com"
                                        ]
                                    },
                                    "keywords": {
                                        "description": "Optional list of target keywords",
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "digital marketing",
                                            "SEO services",
                                            "social media management"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Audit completed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Audit completed successfully"
                                        },
                                        "input": {
                                            "description": "Echo of input parameters",
                                            "type": "object"
                                        },
                                        "audit_results": {
                                            "properties": {
                                                "website_audit": {
                                                    "properties": {
                                                        "technical_seo": {
                                                            "properties": {
                                                                "score": {
                                                                    "type": "integer",
                                                                    "example": 70
                                                                },
                                                                "ssl_valid": {
                                                                    "type": "boolean",
                                                                    "example": true
                                                                },
                                                                "robots_txt_present": {
                                                                    "type": "boolean",
                                                                    "example": true
                                                                },
                                                                "sitemap_xml_present": {
                                                                    "type": "boolean",
                                                                    "example": true
                                                                },
                                                                "page_speed_estimate": {
                                                                    "properties": {
                                                                        "desktop_ms": {
                                                                            "type": "number",
                                                                            "example": 420.5
                                                                        },
                                                                        "mobile_ms": {
                                                                            "type": "number",
                                                                            "example": 5792.1
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        "content_quality": {
                                                            "type": "object"
                                                        },
                                                        "local_seo": {
                                                            "type": "object"
                                                        },
                                                        "security_trust": {
                                                            "type": "object"
                                                        },
                                                        "ux_accessibility": {
                                                            "type": "object"
                                                        },
                                                        "brand_consistency": {
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "social_media_presence": {
                                                    "type": "object"
                                                },
                                                "google_business_profile": {
                                                    "type": "object"
                                                },
                                                "ai_recommendations": {
                                                    "properties": {
                                                        "content": {
                                                            "type": "string",
                                                            "example": "Prioritize fixing missing robots.txt and sitemap, add meta descriptions..."
                                                        },
                                                        "success": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "model_used": {
                                                            "type": "string",
                                                            "example": "gpt-4o-mini"
                                                        },
                                                        "tokens_used": {
                                                            "type": "object",
                                                            "nullable": true
                                                        },
                                                        "note": {
                                                            "type": "string",
                                                            "nullable": true
                                                        },
                                                        "error": {
                                                            "type": "string",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "metadata": {
                                            "properties": {
                                                "model_used": {
                                                    "type": "string",
                                                    "example": "gpt-4o-mini"
                                                },
                                                "audit_method": {
                                                    "type": "string",
                                                    "example": "manual_fetch_with_osat_probes_and_ai_recommendations"
                                                },
                                                "timestamp": {
                                                    "type": "string",
                                                    "example": "2025-12-16T10:44:23+00:00"
                                                },
                                                "execution_time": {
                                                    "type": "string",
                                                    "example": "14.54 seconds"
                                                },
                                                "note": {
                                                    "type": "string",
                                                    "example": "OSAT probes added; AI recommendations included; social/GBP web search disabled."
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "timestamp": {
                                            "type": "string",
                                            "example": "2025-12-16T10:44:23+00:00"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Audit failed"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Audits",
            "description": "Audits"
        },
        {
            "name": "Authentication",
            "description": "Authentication"
        },
        {
            "name": "Businesses",
            "description": "Businesses"
        },
        {
            "name": "Subscriptions",
            "description": "Subscriptions"
        },
        {
            "name": "Audit",
            "description": "Audit"
        }
    ]
}